

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Meshmagick &mdash; Meshmagick User&#39;s Guide 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Meshmagick User&#39;s Guide 1.0 documentation" href="../index.html"/>
        <link rel="up" title="Meshmagick’s Command Line Interface" href="index.html"/>
        <link rel="next" title="Command Line Interface Reference Guide" href="cli_reference.html"/>
        <link rel="prev" title="Meshmagick’s Command Line Interface" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Meshmagick User's Guide
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation Instructions</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Meshmagick&#8217;s Command Line Interface</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using Meshmagick</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-help">Getting help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-a-mesh-file">Converting a mesh file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quiet-mode">Quiet mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-information-on-a-mesh">Getting information on a mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quick-information">Quick information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mesh-quality-metrics">Mesh quality metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-file-visualization">Mesh file visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-healing">Mesh healing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#removing-duplicate-vertices">Removing duplicate vertices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#healing-normals">Healing normals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flipping-normals">Flipping normals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-healing">Global healing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mesh-transformations">Mesh transformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#translations">Translations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rotations">Rotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scaling">Scaling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#triangulating-quadrangles">Triangulating quadrangles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-planes">Working with planes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defining-planes">Defining planes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clipping-a-mesh-by-a-plane">Clipping a mesh by a plane</a></li>
<li class="toctree-l4"><a class="reference internal" href="#symmetrizing-a-mesh-about-a-plane">Symmetrizing a mesh about a plane</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-inertial-properties-of-the-mesh">Getting inertial properties of the mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defining-the-medium-density">Defining the medium density</a></li>
<li class="toctree-l4"><a class="reference internal" href="#guessing-the-mesh-is-filled-with-homogeneous-medium">Guessing the mesh is filled with homogeneous medium</a></li>
<li class="toctree-l4"><a class="reference internal" href="#guessing-the-mesh-is-a-shell">Guessing the mesh is a shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#performing-hydrostatics-calculations-on-the-mesh">Performing hydrostatics calculations on the mesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getting-hydrostatics-properties-of-the-mesh">Getting hydrostatics properties of the mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-the-mesh-vertical-position-that-complies-with-a-given-displacement">Getting the mesh vertical position that complies with a given displacement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#d-hydrostatic-equilibrium">3D hydrostatic equilibrium</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-external-static-forces">Adding external static forces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli_reference.html">CLI reference</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../module/module.html">Using Meshmagick as a Python module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Meshmagick Package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Meshmagick User's Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Meshmagick&#8217;s Command Line Interface</a> &raquo;</li>
      
    <li>Using Meshmagick</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/command_line/cli_usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-meshmagick">
<h1>Using Meshmagick<a class="headerlink" href="#using-meshmagick" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Mesh files examples used through this page are available under the <cite>meshmagick/tests/data</cite> directory so that you
can play with them.</li>
<li>Images that illustrate the examples have been obtained with the Meshmagick&#8217;s viewer and by pressing the <code class="docutils literal"><span class="pre">c</span></code>
keystroke.</li>
<li>Most of the command line options may be combined.</li>
</ul>
</div>
<div class="contents local topic" id="content">
<p class="topic-title first">Content</p>
<ul class="simple">
<li><a class="reference internal" href="#getting-help" id="id1">Getting help</a></li>
<li><a class="reference internal" href="#converting-a-mesh-file" id="id2">Converting a mesh file</a></li>
<li><a class="reference internal" href="#quiet-mode" id="id3">Quiet mode</a></li>
<li><a class="reference internal" href="#getting-information-on-a-mesh" id="id4">Getting information on a mesh</a><ul>
<li><a class="reference internal" href="#quick-information" id="id5">Quick information</a></li>
<li><a class="reference internal" href="#mesh-quality-metrics" id="id6">Mesh quality metrics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-file-visualization" id="id7">Mesh file visualization</a></li>
<li><a class="reference internal" href="#mesh-healing" id="id8">Mesh healing</a><ul>
<li><a class="reference internal" href="#removing-duplicate-vertices" id="id9">Removing duplicate vertices</a></li>
<li><a class="reference internal" href="#healing-normals" id="id10">Healing normals</a></li>
<li><a class="reference internal" href="#flipping-normals" id="id11">Flipping normals</a></li>
<li><a class="reference internal" href="#global-healing" id="id12">Global healing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-transformations" id="id13">Mesh transformations</a><ul>
<li><a class="reference internal" href="#translations" id="id14">Translations</a></li>
<li><a class="reference internal" href="#rotations" id="id15">Rotations</a></li>
<li><a class="reference internal" href="#scaling" id="id16">Scaling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#triangulating-quadrangles" id="id17">Triangulating quadrangles</a></li>
<li><a class="reference internal" href="#working-with-planes" id="id18">Working with planes</a><ul>
<li><a class="reference internal" href="#defining-planes" id="id19">Defining planes</a></li>
<li><a class="reference internal" href="#clipping-a-mesh-by-a-plane" id="id20">Clipping a mesh by a plane</a></li>
<li><a class="reference internal" href="#symmetrizing-a-mesh-about-a-plane" id="id21">Symmetrizing a mesh about a plane</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-inertial-properties-of-the-mesh" id="id22">Getting inertial properties of the mesh</a><ul>
<li><a class="reference internal" href="#defining-the-medium-density" id="id23">Defining the medium density</a></li>
<li><a class="reference internal" href="#guessing-the-mesh-is-filled-with-homogeneous-medium" id="id24">Guessing the mesh is filled with homogeneous medium</a></li>
<li><a class="reference internal" href="#guessing-the-mesh-is-a-shell" id="id25">Guessing the mesh is a shell</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performing-hydrostatics-calculations-on-the-mesh" id="id26">Performing hydrostatics calculations on the mesh</a><ul>
<li><a class="reference internal" href="#getting-hydrostatics-properties-of-the-mesh" id="id27">Getting hydrostatics properties of the mesh</a></li>
<li><a class="reference internal" href="#getting-the-mesh-vertical-position-that-complies-with-a-given-displacement" id="id28">Getting the mesh vertical position that complies with a given displacement</a></li>
<li><a class="reference internal" href="#d-hydrostatic-equilibrium" id="id29">3D hydrostatic equilibrium</a></li>
<li><a class="reference internal" href="#adding-external-static-forces" id="id30">Adding external static forces</a><ul>
<li><a class="reference internal" href="#absolute-forces" id="id31">Absolute forces</a></li>
<li><a class="reference internal" href="#relative-forces" id="id32">Relative forces</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="getting-help">
<h2><a class="toc-backref" href="#content">Getting help</a><a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>You can get command line help by issuing the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick -h
</pre></div>
</div>
<p>The output of this command is reproduced in the <a class="reference internal" href="cli_reference.html"><span class="doc">Command Line Interface Reference Guide</span></a>.</p>
</div>
<div class="section" id="converting-a-mesh-file">
<h2><a class="toc-backref" href="#content">Converting a mesh file</a><a class="headerlink" href="#converting-a-mesh-file" title="Permalink to this headline">¶</a></h2>
<p>Converting a mesh file is one of the most basic usage of Meshmagick:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -o SEAREV.mar
</pre></div>
</div>
<p>The format of the file is generally guessed from the extensions. However, sometimes the extension may not be explicit
enough to guess the file format. You should then use the <abbr title="--input-format">-ifmt</abbr> and
<abbr title="--output-format">-ofmt</abbr> options to explicitly declare the file format:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -ifmt paraview SEAREV.vtp -ofmt nemoh SEAREV.dat
</pre></div>
</div>
<p>This way, we told Meshmagick that SEAREV.dat should be in the
<a class="reference external" href="https://lheea.ec-nantes.fr/doku.php/emo/nemoh/start">Nemoh</a> input mesh file format.</p>
</div>
<div class="section" id="quiet-mode">
<h2><a class="toc-backref" href="#content">Quiet mode</a><a class="headerlink" href="#quiet-mode" title="Permalink to this headline">¶</a></h2>
<p>To switch off outputs of Meshmagick, use the <abbr title="--quiet">-q</abbr> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -q
</pre></div>
</div>
</div>
<div class="section" id="getting-information-on-a-mesh">
<h2><a class="toc-backref" href="#content">Getting information on a mesh</a><a class="headerlink" href="#getting-information-on-a-mesh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="quick-information">
<h3><a class="toc-backref" href="#content">Quick information</a><a class="headerlink" href="#quick-information" title="Permalink to this headline">¶</a></h3>
<p>Quick information on a mesh is given by the <abbr title="--info">-i</abbr> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -i
</pre></div>
</div>
<p>That gives us the following output:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

        --------------------------------------------
        	MESH NAME : SEAREV
        --------------------------------------------

        Number of vertices: 14354
        Number of faces:    15804

        Number of triangles:   2904
        Number of quadrangles: 12900

        xmin = -4.999371	xmax = 4.998167
        ymin = -15.000000	ymax = 15.000000
        zmin = -5.000000	zmax = 6.000000


        

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
</div>
<div class="section" id="mesh-quality-metrics">
<h3><a class="toc-backref" href="#content">Mesh quality metrics</a><a class="headerlink" href="#mesh-quality-metrics" title="Permalink to this headline">¶</a></h3>
<p>You can get some quality metrics on the mesh by issuing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp --quality
</pre></div>
</div>
<p>that gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

Triangle quality of the mesh (2904 elements):

 Area Ratio:
    range: 0.0315238  -  0.104016
    average: 0.060761  , standard deviation: 0.0129906
 Edge Ratio:
    range: 1.0115  -  1.68482
    average: 1.28402  , standard deviation: 0.135239
 Aspect Ratio:
    range: 1.00504  -  1.78696
    average: 1.17559  , standard deviation: 0.104713
 Radius Ratio:
    range: 1.0001  -  1.63074
    average: 1.06858  , standard deviation: 0.0637777
 Frobenius Norm:
    range: 1.00009  -  1.4086
    average: 1.0574  , standard deviation: 0.0487658
 Minimal Angle:
    range: 35.6524  -  59.4647
    average: 48.5477  , standard deviation: 4.93326

Quadrilateral quality of the mesh (12900 elements):

 Area Ratio:
    range: 0.0774506  -  0.0812261
    average: 0.0797408  , standard deviation: 0.00129459
 Edge Ratio:
    range: 1.93626  -  2.03065
    average: 1.99352  , standard deviation: 0.0323648
 Aspect Ratio:
    range: 1.46813  -  1.51532
    average: 1.49676  , standard deviation: 0.0161824
 Radius Ratio:
    range: 1.22636  -  1.26155
    average: 1.24764  , standard deviation: 0.0120902
 Average Frobenius Norm:
    range: 1.22636  -  1.26155
    average: 1.24764  , standard deviation: 0.0120902
 Maximal Frobenius Norm:
    range: 1.22636  -  1.26155
    average: 1.24764  , standard deviation: 0.0120902
 Minimal Angle:
    range: 90  -  90
    average: 90  , standard deviation: 0


Definition of the different quality measures is given
        in the verdict library manual :
        http://www.vtk.org/Wiki/images/6/6b/VerdictManual-revA.pdf


=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option requires that you have an installed version of the python VTK library as it is used to compute these
metrics. It relies on the verdict library, initially developed at Sandia lab and late included into VTK. More
information on the metrics can be seen in the
<a class="reference external" href="http://www.vtk.org/Wiki/images/6/6b/VerdictManual-revA.pdf">Verdict manual</a>.</p>
</div>
</div>
</div>
<div class="section" id="mesh-file-visualization">
<h2><a class="toc-backref" href="#content">Mesh file visualization</a><a class="headerlink" href="#mesh-file-visualization" title="Permalink to this headline">¶</a></h2>
<p>Quickly viewing a mesh can be achieved by using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp --show
</pre></div>
</div>
<p>that opens the internal Meshmagick&#8217;s viewer.</p>
<img alt="../_images/viewer.png" src="../_images/viewer.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The viewer relies on VTK, so the python VTK library must be installed in order to use it.</p>
</div>
<p>The viewer is blazing fast and support mesh manipulation with the mouse. Some keyboard keys are available and their
usage is indicated in the upper right panel.</p>
<p>Certainly the most useful feature is teh visualization of normals by pressing the <code class="docutils literal"><span class="pre">n</span></code> keystroke so that you can verify
consistency of normals across the mesh as well as orientation (must generally be outward for computations).</p>
<img alt="../_images/viewer_options.png" src="../_images/viewer_options.png" />
<p>The above screenshot has been obtained by pressing successively the keys <code class="docutils literal"><span class="pre">n</span></code> (showing normals), <code class="docutils literal"><span class="pre">w</span></code> (wire
representation), <code class="docutils literal"><span class="pre">h</span></code> (show Oxy plane i.e. the water free surface) and <code class="docutils literal"><span class="pre">c</span></code> (to save a screnshot that is saved
under the name <code class="docutils literal"><span class="pre">screenshot.png</span></code> in the current working directory.)</p>
<p><strong>Just play with options to discover what is available !</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The frame at the lower left corner is draggable and resizable so that you can inspect your mesh for alignment or
whatever you want.</p>
</div>
</div>
<div class="section" id="mesh-healing">
<h2><a class="toc-backref" href="#content">Mesh healing</a><a class="headerlink" href="#mesh-healing" title="Permalink to this headline">¶</a></h2>
<p>Meshmagick offers some options to deal with mesh description. Sometimes, meshes are produced with duplicated vertices
description, making it impossible to establish some advanced conectivities. This is intrinsically the case for e.g. in
GDF files, the input mesh file format of <a class="reference external" href="http://www.wamit.com/">Wamit</a> where faces are internally represented by
vertices coordinates only, without using a connectivity table.</p>
<p>Sometimes also, faces normals are not consistent. This is often the case by e.g. when using <a class="reference external" href="http://gmsh.info/">gmsh</a>
mesh generator. You may also want to flip every normals.</p>
<div class="section" id="removing-duplicate-vertices">
<h3><a class="toc-backref" href="#content">Removing duplicate vertices</a><a class="headerlink" href="#removing-duplicate-vertices" title="Permalink to this headline">¶</a></h3>
<p>The <abbr title="--merge-duplicates">-md</abbr> option does this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick coque.gdf -md
</pre></div>
</div>
<p>that gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/coque.gdf successfully loaded
* Merging duplicate vertices that lie in an absolute proximity of 1.0E-08...
	--&gt; Initial number of vertices : 15100
	--&gt; Final number of vertices   : 3911
	--&gt; 11189 vertices have been merged


=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<p>This allows to generate connectivity tables in the mesh and may drastically reduce the mesh size in memory and on disk.</p>
</div>
<div class="section" id="healing-normals">
<h3><a class="toc-backref" href="#content">Healing normals</a><a class="headerlink" href="#healing-normals" title="Permalink to this headline">¶</a></h3>
<p>This is obtained by using the <abbr title="--heal-normals">-hn</abbr> command line option. Let&#8217;s have an example. In the
<cite>meshmagick/tests/data</cite> folder, you can find the file <code class="docutils literal"><span class="pre">cylinder.geo</span></code> that is a geometry file using the GMSH
language for modeling geometry. It models the eight of a cylinder.</p>
<p>If you have gmsh on your computer, you can generate a mesh file from this file by issuing the
following command in your terminal:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ gmsh -2 cylinder.geo
</pre></div>
</div>
<p>It will generate a file named <code class="docutils literal"><span class="pre">cylinder.msh</span></code> which is a surface mesh of the portion of cylinder. One thing that you
can do is to visualize this mesh with the <cite>&#8211;show</cite> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh --show
</pre></div>
</div>
<p>and stroke <code class="docutils literal"><span class="pre">n</span></code> to watch normals.</p>
<img alt="../_images/cylinder_msh_normals.png" src="../_images/cylinder_msh_normals.png" />
<p>It is clear that gmsh did not orient the normals consistently. Now, you can heal them by issuing by e.g.:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh -hn -o cylinder_healed.vtp --show
</pre></div>
</div>
<p>which heals the normals, opens the Meshmagick&#8217;s viewer and writes the healed mesh as a Paraview file.</p>
<img alt="../_images/cylinder_msh_normals_healed.png" src="../_images/cylinder_msh_normals_healed.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option uses a <a class="reference external" href="https://en.wikipedia.org/wiki/Flood_fill">flood fill algorithm</a> to diffuse the normal
orientation information. For doing so, it requires to establish a connectivity map for faces/faces adjacency. For
this map to be realized, it is necessary to merge duplicate nodes before healing normals. When invoking the
<abbr title="--merge-duplicates">-md</abbr> and <abbr title="--heal-normals">-hn</abbr> options at the same time, merging is done
before healing so it is verified.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If your mesh is not conformal, this option <strong>may</strong> fail as the connectivity map used by the flooding algorithm
<strong>may</strong> present some non connected patches of faces that will be flooded independently, making the transit of
normal orientation between these patch impossible.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the mesh is closed and conformal, a side effect of this option is to test if the normals are outgoing and
correct them if they are not. This is achieved by &#8220;plunging the mesh in water&#8221; and integrate the hydrostatics
pressure to identify the resultant force orientation which must be along the positive vertical in case the
normals are outgoing. If the mesh does not allow this checking, normals are nevertheless made consistent and you are
warned about the eventual need to manually watch the normals from the Meshmagick&#8217;s viewer and issue a new command
to flip the whole normals as described in the following.</p>
</div>
</div>
<div class="section" id="flipping-normals">
<h3><a class="toc-backref" href="#content">Flipping normals</a><a class="headerlink" href="#flipping-normals" title="Permalink to this headline">¶</a></h3>
<p>This can be done with the <abbr title="--flip-normals">-fn</abbr> option. Based on the <code class="docutils literal"><span class="pre">cylinder.vtp</span></code> file obtained just
before, if we issue the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.vtp -fn --show
</pre></div>
</div>
<p>we get:</p>
<img alt="../_images/cylinder_msh_normals_flipped.png" src="../_images/cylinder_msh_normals_flipped.png" />
</div>
<div class="section" id="global-healing">
<h3><a class="toc-backref" href="#content">Global healing</a><a class="headerlink" href="#global-healing" title="Permalink to this headline">¶</a></h3>
<p>When getting a mesh file from somewhere, you could use the <abbr title="--heal-mesh">-hm</abbr> option to automatically apply a
set of sanity checks and modifications on the mesh. It successively applies the following operations:</p>
<ul class="simple">
<li>Removes unused vertices</li>
<li>Removes degenerated faces</li>
<li>Merge duplicate vertices</li>
<li>Heal triangles description</li>
<li>Heal normal orientations</li>
</ul>
<p>The command is then:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh -hm
</pre></div>
</div>
<p>that outputs:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/cylinder.msh successfully loaded

OPERATION: heal the mesh
* Removing unused vertices in the mesh:
	--&gt; 1 unused vertices have been removed
* Removing degenerated faces
	--&gt; No degenerated faces
* Merging duplicate vertices that lie in an absolute proximity of 1.0E-08...
	--&gt; No duplicate vertices have been found
* Ensuring consistent definition of triangles:
	--&gt; Triangle description is consistent
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
Boundary is not closed !!!
* Healing normals to make them consistent and if possible outward
	--&gt; 2000 faces have been reversed to make normals consistent across the mesh
	--&gt; WARNING: the mesh does not seem watertight althought marked as closed...
	Done.

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
</div>
</div>
<div class="section" id="mesh-transformations">
<h2><a class="toc-backref" href="#content">Mesh transformations</a><a class="headerlink" href="#mesh-transformations" title="Permalink to this headline">¶</a></h2>
<p>Some basic mesh transformation options are available: translations, rotations, scaling.</p>
<div class="section" id="translations">
<h3><a class="toc-backref" href="#content">Translations</a><a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h3>
<p>The options to use are <abbr title="--translatex">-tx</abbr>, <abbr title="--translatey">-ty</abbr>, <abbr title="--translatez">-tz</abbr>,
<abbr title="--translate">-t</abbr> which respectively performs translations along the x axis, the y axis, the z axis and along a
coordinate vector. The invocations are:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -tx 10
&gt;$ meshmagick SEAREV.vtp -ty 10
&gt;$ meshmagick SEAREV.vtp -tz 10

&gt;$ meshmagick SEAREV.vtp -t <span class="m">10</span> <span class="m">10</span> <span class="m">10</span> -i
</pre></div>
</div>
<p>for translations of 10 along specific axes and along the coordinate vector (10, 10, 10). The last command gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

OPERATION: Translation by [10.000000, 10.000000, 10.000000]
	-&gt; Done.

        --------------------------------------------
        	MESH NAME : SEAREV
        --------------------------------------------

        Number of vertices: 14354
        Number of faces:    15804

        Number of triangles:   2904
        Number of quadrangles: 12900

        xmin = 5.000629	xmax = 14.998167
        ymin = -5.000000	ymax = 25.000000
        zmin = 5.000000	zmax = 16.000000


        

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
</div>
<div class="section" id="rotations">
<h3><a class="toc-backref" href="#content">Rotations</a><a class="headerlink" href="#rotations" title="Permalink to this headline">¶</a></h3>
<p>The options to use are <abbr title="--rotatex">-rx</abbr>, <abbr title="--rotatey">-ry</abbr>, <abbr title="--rotatez">-rz</abbr>,
<abbr title="--rotate">-r</abbr> which respectively performs rotations around the x axis, the y axis, the z axis and a 3D
rotation along fixed axis rotation vector. The invocations are:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -rx 90
&gt;$ meshmagick SEAREV.vtp -ry 90
&gt;$ meshmagick SEAREV.vtp -rz 90

&gt;$ meshmagick SEAREV.vtp -r <span class="m">90</span> <span class="m">90</span> <span class="m">90</span> -i
</pre></div>
</div>
<p>for rotations of 90° around specific axes and around the rotation coordinate vector (90, 90, 90). The last command
gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

OPERATION: Rotation by [90.000000, 90.000000, 90.000000] (degrees)
	-&gt; Done.

        --------------------------------------------
        	MESH NAME : SEAREV
        --------------------------------------------

        Number of vertices: 14354
        Number of faces:    15804

        Number of triangles:   2904
        Number of quadrangles: 12900

        xmin = -10.603241	xmax = 12.371918
        ymin = -8.932214	ymax = 8.932176
        zmin = -16.367325	zmax = 15.536390


        

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last simple">
<li>When using the <abbr title="--rotate">-r</abbr> option, please keep in mind that the angles given are not the Cardan angles
(Roll, Pitch, Yaw) but angles around a fixed rotation axis.</li>
<li>Angles must be given in degrees.</li>
</ul>
</div>
</div>
<div class="section" id="scaling">
<h3><a class="toc-backref" href="#content">Scaling</a><a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h3>
<p>The options to use are <abbr title="--scalex">-sx</abbr>, <abbr title="--scaley">-sy</abbr>, <abbr title="--scalez">-sz</abbr>,
<abbr title="--scale">-s</abbr> which respectively performs scaling along the x axis, the y axis, the z axis and a 3D
scaling of the mesh. The invocations are:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -sx 2
&gt;$ meshmagick SEAREV.vtp -sy 2
&gt;$ meshmagick SEAREV.vtp -sz 2

&gt;$ meshmagick SEAREV.vtp -s <span class="m">2</span> -i
</pre></div>
</div>
<p>for scaling of 2 along specific axes and of the whole mesh in space. The last command gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

OPERATION: Scaling by 2.000000
	-&gt; Done.

        --------------------------------------------
        	MESH NAME : SEAREV
        --------------------------------------------

        Number of vertices: 14354
        Number of faces:    15804

        Number of triangles:   2904
        Number of quadrangles: 12900

        xmin = -9.998741	xmax = 9.996333
        ymin = -30.000000	ymax = 30.000000
        zmin = -10.000000	zmax = 12.000000


        

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Scaling is performed before any translations when both options are used. So the translation magnitudes must be
adapted to be consistent with the new scale of the mesh.</p>
</div>
</div>
</div>
<div class="section" id="triangulating-quadrangles">
<h2><a class="toc-backref" href="#content">Triangulating quadrangles</a><a class="headerlink" href="#triangulating-quadrangles" title="Permalink to this headline">¶</a></h2>
<p>The <abbr title="--triangulate-quadrangles">-tq</abbr> allows to split every quadrangle faces in the mesh into two triangle:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh -tq --show
</pre></div>
</div>
<p>that displays the following:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/cylinder.msh successfully loaded

Triangulating quadrangles
	--&gt;3000 quadrangles have been split in triangles

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<img alt="../_images/triangulate.png" src="../_images/triangulate.png" />
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The splitting procedure is basic and keep in mind that no check is done on the quality of the generated triangles.
If your mesh faces does not have a good aspect ratio, it could produce some really tiny triangles.</p>
</div>
</div>
<div class="section" id="working-with-planes">
<h2><a class="toc-backref" href="#content">Working with planes</a><a class="headerlink" href="#working-with-planes" title="Permalink to this headline">¶</a></h2>
<p>Planes may be used in different situation as seen below. They can be defined so as to perform mesh clipping (useful
to provide the submerged part of the mesh to hydrodynamics BEM software such as Nemoh), symmetrizing (when only a
part of the mesh has been generated as in the <code class="docutils literal"><span class="pre">cylinder.geo</span></code> gmsh geometry file example) or mirroring.</p>
<p>A plane is defined by its normal <span class="math">\(\vec{n}\)</span> and a scalar parameter <span class="math">\(c\)</span> following the equation
<span class="math">\(\vec{n}.\vec{x} = c\)</span>, where <span class="math">\(\vec{x}\)</span> is the coordinate vector of a point belonging to the plane.</p>
<p>The scalar parameter <span class="math">\(c\)</span> is practically the orthogonal distance between the origin of the reference frame and
the plane.</p>
<p>Working with planes is quite flexible as you have 3 mean to use them along with plane dependent options:</p>
<ul>
<li><p class="first">Defining the plane by 4 scalars:  <span class="math">\(n_x, n_y, n_z, c\)</span></p>
</li>
<li><dl class="first docutils">
<dt>Using predefined plane keywords:</dt>
<dd><ul class="first last simple">
<li>Oxy</li>
<li>Oxz</li>
<li>Oyz</li>
<li>/Oxy</li>
<li>/Oxz</li>
<li>/Oyz</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Using the index of a plane that has been defined with the <abbr title="--plane">-p</abbr> option.</p>
</li>
</ul>
<div class="section" id="defining-planes">
<h3><a class="toc-backref" href="#content">Defining planes</a><a class="headerlink" href="#defining-planes" title="Permalink to this headline">¶</a></h3>
<p>A plane may be defined at the command line level along with de <abbr title="--plane">-p</abbr> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -p <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> 0
</pre></div>
</div>
<p>defines the plane with normal (0, 0, 1) and the scalar parameter 0.</p>
<p>It is also possible to define the same plane by a predefined keyword argument:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -p Oxy
</pre></div>
</div>
<p>Predefined keywords arguments are Oxy, Oxz, Oyz, /Oxy, /Oxz, /Oyz and are self descriptive. The slash indicates that
the normals is reversed.</p>
<p>It is possible to define several planes at once such as in:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -p Oxy -p /Oxz
</pre></div>
</div>
<p>When defining planes with the <abbr title="--plane">-p</abbr> option, the planes definitions are internally stored in a list in
the order that you used in the command line and it is then possible to refer to them in other options by their index in
the list, starting by 0. So in the above command line, the plane Oxy can be refereed as the plane index 0 and the /Oxz
plane as the plane index 1.</p>
</div>
<div class="section" id="clipping-a-mesh-by-a-plane">
<h3><a class="toc-backref" href="#content">Clipping a mesh by a plane</a><a class="headerlink" href="#clipping-a-mesh-by-a-plane" title="Permalink to this headline">¶</a></h3>
<p>To clip a mesh against a plane, use the <abbr title="--clip">-c</abbr> option like in:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -c <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> --show
</pre></div>
</div>
<p>that displays the following view:</p>
<img alt="../_images/clip.png" src="../_images/clip.png" />
<p>As said before, the above command is strictly equivalent to:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -p <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> -c <span class="m">0</span> --show
</pre></div>
</div>
<p>It is also possible to use several <abbr title="--clip">-c</abbr> option at a time:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -c Oxy -c Oyz --show
</pre></div>
</div>
<p>that gives:</p>
<img alt="../_images/clip2.png" src="../_images/clip2.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to invoke the <abbr title="--clip">-c</abbr> option without any argument. In that case, a default Oxy plane
is taken.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The part of the mesh that is kept is that opposite to the plane&#8217;s normal orientation.</p>
</div>
</div>
<div class="section" id="symmetrizing-a-mesh-about-a-plane">
<h3><a class="toc-backref" href="#content">Symmetrizing a mesh about a plane</a><a class="headerlink" href="#symmetrizing-a-mesh-about-a-plane" title="Permalink to this headline">¶</a></h3>
<p>To symmetrize a mesh about a plane, use the <abbr title="--symmetrize">&#8211;sym</abbr> option. Taking back the <code class="docutils literal"><span class="pre">cylinder.msh</span></code>
example generated sooner, we can issue:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh --sym Oxy --show
</pre></div>
</div>
<p>that gives:</p>
<img alt="../_images/cylinder_sym.png" src="../_images/cylinder_sym.png" />
<p>Combining the options allow us to close the cylinder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh --sym Oxy --sym Oxz --sym Oyz --show
</pre></div>
</div>
<p>that gives:</p>
<img alt="../_images/cylinder_sym3.png" src="../_images/cylinder_sym3.png" />
<p>Checking normals gives as expected:</p>
<img alt="../_images/cylinder_sym3_normals.png" src="../_images/cylinder_sym3_normals.png" />
<p>that we can heal:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh --sym Oxy --sym Oxz --sym Oyz -hn --show
</pre></div>
</div>
<img alt="../_images/cylinder_sym3_normals_healed.png" src="../_images/cylinder_sym3_normals_healed.png" />
<p>and clip back:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick cylinder.msh --sym Oxy --sym Oxz --sym Oyz -hn -c Oxy -c Oyz -c Oxz --show
</pre></div>
</div>
<p>making us confident with respect to the normal consistency and orientation (outward) of our open part of cylinder mesh:</p>
<img alt="../_images/cylinder_sym3_normals_healed_clip.png" src="../_images/cylinder_sym3_normals_healed_clip.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Faces quality on the vicinity of the clipping plane is not checked. You can then generate faces with very poor
aspect ratio. This will be fixed in a future Meshmagick&#8217;s release by applying a projection procedure that is
nontrivial to develop as it must not modify the geometry locally.</p>
</div>
</div>
</div>
<div class="section" id="getting-inertial-properties-of-the-mesh">
<h2><a class="toc-backref" href="#content">Getting inertial properties of the mesh</a><a class="headerlink" href="#getting-inertial-properties-of-the-mesh" title="Permalink to this headline">¶</a></h2>
<p>Meshmagick allows to calculate inertial properties of meshes based on some assumptions on the mass distribution:</p>
<ul class="simple">
<li>A mesh which is <strong>uniformly filled</strong> with an homogeneous medium with a given density (the practical interest if for
e.g. for ballast modeling).</li>
<li>A mesh considered as a <strong>shell</strong> having a constant thickness and made in a medium of a given density (approximation
for floating structures).</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Ajouter des mots clé pour les matériaux dispos</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last">
<li><p class="first"><strong>Inertial properties</strong> are:</p>
<blockquote>
<div><ul class="simple">
<li>The <strong>mass</strong> <span class="math">\(m\)</span> (tons)</li>
<li>The position of the <strong>center of gravity</strong> in the mesh&#8217;s reference frame <span class="math">\(\vec{OG}\)</span></li>
<li>The (3x3) symmetric 3D rotational <strong>inertia matrix</strong> <span class="math">\(\mathbf{I}_O\)</span></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The inertia matrix must be expressed with respect to a <em>reduction point</em>. Internally, inertia calculations are
done in the mesh&#8217;s reference frame (where vertices coordinates are expressed) so <strong>the default inertia matrix is
expressed at the mesh&#8217;s origin</strong>. Please see the <code class="docutils literal"><span class="pre">--reduction-point</span></code> and <code class="docutils literal"><span class="pre">--at-cog</span></code> options to specify an
other reduction point.</p>
</li>
<li><p class="first">Note also that the default unit for mass in Meshmagick is the ton ! This is of practical use in offshore
applications.</p>
</li>
</ul>
</div>
<div class="section" id="defining-the-medium-density">
<h3><a class="toc-backref" href="#content">Defining the medium density</a><a class="headerlink" href="#defining-the-medium-density" title="Permalink to this headline">¶</a></h3>
<p>The medium density, for both assumptions on mass distribution in the mesh, is done by using the <code class="docutils literal"><span class="pre">--rho-medium</span></code>
option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp --rho-medium 1023
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Density must be given in kg/m**3 unit.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the above command line, we specified a meshfile as an option although we have no mesh processing at all, the
aim being to get the list of available medium. This is a limitation of the <code class="docutils literal"><span class="pre">argparse</span></code> Python module that is
used in Meshmagick to parse command line options and arguments. This module does not allow to define optional
arguments that overhelms the mandatoriness of the positional arguments. Except for the <code class="docutils literal"><span class="pre">--help</span></code> command line
option, you always have to specify a mesh file while calling Meshmagick.</p>
</div>
<p>It is also possible to use some default medium density keywords. These keywords can be retrieved using the
<code class="docutils literal"><span class="pre">--list-medium</span></code> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp --list-medium
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

+----------------------+----------------------+
|NAME                  |     DENSITY (KG/M**3)|
+----------------------+----------------------+
|STEEL                 |              7850.000|
+----------------------+----------------------+
|NITROGEN_-195DEGC     |               810.000|
+----------------------+----------------------+
|LEAD                  |             11350.000|
+----------------------+----------------------+
|ALUMINUM              |              2700.000|
+----------------------+----------------------+
|TITANIUM              |              4500.000|
+----------------------+----------------------+
|PROPANE               |                 2.010|
+----------------------+----------------------+
|REINFORCED_CONCRETE   |              2400.000|
+----------------------+----------------------+
|POLYSTYRENE           |              1050.000|
+----------------------+----------------------+
|GASOLINE              |               750.000|
+----------------------+----------------------+
|FRESH_WATER           |              1000.000|
+----------------------+----------------------+
|CONCRETE              |              2300.000|
+----------------------+----------------------+
|SAND                  |              1600.000|
+----------------------+----------------------+
|AIR_20DEGC            |                 1.204|
+----------------------+----------------------+
|HYDROGEN_-252DEGC     |                70.000|
+----------------------+----------------------+
|ETHANOL               |               789.000|
+----------------------+----------------------+
|BUTANE                |                 2.700|
+----------------------+----------------------+
|SALT_WATER            |              1025.000|
+----------------------+----------------------+
|DIESEL_FUEL           |               850.000|
+----------------------+----------------------+


=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<p>An other solution is to look at the <code class="docutils literal"><span class="pre">--help</span></code> output.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<ul class="last simple">
<li>Faire que argparse émette un warning si on a des options non reconnues.</li>
<li>Ajouter la possibilité d&#8217;exprimer les matrices résultat en un point de réduction particulier. Cette option
qu&#8217;on nomera &#8211;reduction-point (-rp) sera utilisee a la fois par les inerties et par la matrice raideur</li>
<li>On mettra aussi en place une option &#8211;at-cog pour que le poitn de reduction soit specifie au cetre de gravite</li>
</ul>
</div>
</div>
<div class="section" id="guessing-the-mesh-is-filled-with-homogeneous-medium">
<h3><a class="toc-backref" href="#content">Guessing the mesh is filled with homogeneous medium</a><a class="headerlink" href="#guessing-the-mesh-is-filled-with-homogeneous-medium" title="Permalink to this headline">¶</a></h3>
<p>This is achieved by using the <abbr title="--plain-inertia">-pi</abbr> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -pi --rho-medium 800
</pre></div>
</div>
<p>that gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

Inertial parameters for a uniform distribution of a medium of density 800.0 kg/m**3 in the mesh:

	Mass = 2117.400 tons
	COG (m):
		xg = -0.207
		yg = -0.000
		zg = 0.547
	Inertia matrix (SI):
		1.764E+08	-1.455E-09	1.986E+06
		-1.455E-09	3.110E+07	-0.000E+00
		1.986E+06	-0.000E+00	1.723E+08
	Expressed at point : 		0.000E+00	0.000E+00	0.000E+00

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the medium&#8217;s density is not specified, the <code class="docutils literal"><span class="pre">-pi</span></code> option guesses that the medium is salt water and then takes a
default density of 1023 kg/m**3.</p>
</div>
</div>
<div class="section" id="guessing-the-mesh-is-a-shell">
<h3><a class="toc-backref" href="#content">Guessing the mesh is a shell</a><a class="headerlink" href="#guessing-the-mesh-is-a-shell" title="Permalink to this headline">¶</a></h3>
<p>This is achieved by using the <abbr title="--shell-inertia">-si</abbr> option:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>&gt;$ meshmagick SEAREV.vtp -si --rho-medium <span class="m">5850</span> --thickness 0.02
</pre></div>
</div>
<p>that gives:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>=============================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
=============================================
../meshmagick/tests/data/SEAREV.vtp successfully loaded

Inertial parameters for a shell distribution of a medium of density 5850.0 kg/m**3 and a thickness of 0.020 m over the mesh:

	Mass = 140.997 tons
	COG (m):
		xg = -0.002
		yg = 0.000
		zg = 0.006
	Inertia matrix (SI):
		1.578E+07	-1.375E+01	2.205E+05
		-1.375E+01	3.799E+06	-6.452E+00
		2.205E+05	-6.452E+00	1.536E+07
	Expressed at point : 		0.000E+00	0.000E+00	0.000E+00

=============================================================
meshmagick - version 1.0
Copyright 2014-2016, Ecole Centrale de Nantes
Maintainer : Francois Rongere &lt;Francois.Rongere@ec-nantes.fr&gt;
Good Bye!
=============================================================
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>If the <code class="docutils literal"><span class="pre">--rho-medium</span></code> option is not specified, the medium density is by default considered that of steel (5850
kg/m**3)</li>
<li>If the <code class="docutils literal"><span class="pre">--thickness</span></code> option is not specified, the thickness of the shell is by default considered being 0.02
meters.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="performing-hydrostatics-calculations-on-the-mesh">
<h2><a class="toc-backref" href="#content">Performing hydrostatics calculations on the mesh</a><a class="headerlink" href="#performing-hydrostatics-calculations-on-the-mesh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="getting-hydrostatics-properties-of-the-mesh">
<h3><a class="toc-backref" href="#content">Getting hydrostatics properties of the mesh</a><a class="headerlink" href="#getting-hydrostatics-properties-of-the-mesh" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="getting-the-mesh-vertical-position-that-complies-with-a-given-displacement">
<h3><a class="toc-backref" href="#content">Getting the mesh vertical position that complies with a given displacement</a><a class="headerlink" href="#getting-the-mesh-vertical-position-that-complies-with-a-given-displacement" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="d-hydrostatic-equilibrium">
<h3><a class="toc-backref" href="#content">3D hydrostatic equilibrium</a><a class="headerlink" href="#d-hydrostatic-equilibrium" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="adding-external-static-forces">
<h3><a class="toc-backref" href="#content">Adding external static forces</a><a class="headerlink" href="#adding-external-static-forces" title="Permalink to this headline">¶</a></h3>
<div class="section" id="absolute-forces">
<h4><a class="toc-backref" href="#content">Absolute forces</a><a class="headerlink" href="#absolute-forces" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="relative-forces">
<h4><a class="toc-backref" href="#content">Relative forces</a><a class="headerlink" href="#relative-forces" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cli_reference.html" class="btn btn-neutral float-right" title="Command Line Interface Reference Guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Meshmagick’s Command Line Interface" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ecole Centrale de Nantes.
      Last updated on Dec 21, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>